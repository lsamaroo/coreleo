<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: util.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: util.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>define(function(require) {
    'use strict';

    var $ = require('$');
    var _ = require('lodash');
    var log = require('log');
    var template = require('template/template');

    var util = {

        renderTemplateWithCaching: function(selector, data) {
            return template.renderTemplateWithCaching(selector, data);
        },


        renderTemplate: function(templateString, data) {
            return template.renderTemplate(templateString, data);
        },

        deprecated: function() {
            log.warn('This function is deprecated.  See documentation.');
        },

        isEmpty: function(obj) {
            return _.isEmpty(obj);
        },

        isNotEmpty: function(text) {
            return !this.isEmpty(text);
        },

        startsWith: function(str, ch, position) {
            if (!position) {
                position = 0;
            }
            return _.startsWith(str, ch, position);
        },

        replaceCharAt: function(str, index, chr) {
            if (index > str.length - 1) {
                return str;
            }
            return str.substr(0, index) + chr + str.substr(index + 1);
        },

        formatPhone: function(phone) {
            if (_.isEmpty(phone)) {
                return '';
            }
            return '(' + phone.substr(0, 3) + ') ' + phone.substr(3, 3) + '-' + phone.substr(6, 4);
        },


        formatCurrency: function(amount) {
            var i = parseFloat(amount);
            if (isNaN(i)) {
                i = 0.00;
            }
            var minus = '';
            if (i &lt; 0) {
                minus = '-';
            }
            i = Math.abs(i);
            i = parseInt((i + 0.005) * 100, 10);
            i = i / 100;
            var s = i.toString();
            if (s.indexOf('.') &lt; 0) {
                s += '.00';
            }
            if (s.indexOf('.') === (s.length - 2)) {
                s += '0';
            }
            s = minus + s;
            return s;
        },


        /**
         * If the string is null it returns a empty string otherwise returns the string
         */
        blankNull: function(string) {
            if (this.isEmpty(string)) {
                return '';
            }
            else {
                return string;
            }
        },


        toBoolean: function(str) {
            if (this.isEmpty(str)) {
                return false;
            }

            str = str.trim().toLowerCase();
            if (str === 'true' || str === 't' || str === '1' || str === 'y' || str === 'yes' || str === 1 || str === true) {
                return true;
            }

            return false;
        },


        isTrue: function(str) {
            return this.toBoolean(str) === true;
        },

        isFalse: function(str) {
            return !this.isTrue(str);
        },

        /**
         * Left pads the given string with zeros to fill the size specified
         */
        zeroFill: function(string, size) {
            if (this.isEmpty(string)) {
                return '';
            }
            return _.padStart(string, (size - string.length), '0');
        },

        isIdSelector: function(id) {
            if (this.isEmpty(id)) {
                return false;
            }

            return this.startsWith(id, '#');
        },

        isClassSelector: function(cssClass) {
            if (this.isEmpty(cssClass)) {
                return false;
            }
            return this.startsWith(cssClass, '.');
        },

        idAsSelector: function(id) {
            if (this.isEmpty(id)) {
                return '';
            }

            id = id.trim();
            if (this.isIdSelector(id) || this.isClassSelector(id)) {
                return id;
            }
            return '#' + id;
        },

        classAsSelector: function(cssClass) {
            if (this.isEmpty(cssClass)) {
                return '';
            }

            cssClass = cssClass.trim();
            if (this.isIdSelector(cssClass) || this.isClassSelector(cssClass)) {
                return cssClass;
            }
            return '.' + cssClass;
        },

        contains: function(str, subString) {
            if (this.isEmpty(str)) {
                return false;
            }

            if (this.isEmpty(subString)) {
                return false;
            }

            return str.indexOf(subString) !== -1;
        },

        containsIgnoreCase: function(str, subString) {
            if (this.isEmpty(str)) {
                return false;
            }

            if (this.isEmpty(subString)) {
                return false;
            }

            return this.contains(str.toLowerCase(), str.toLowerCase());
        },

        trimNewLineChar: function(str) {
            if (this.isEmpty(str)) {
                return '';
            }
            return str.replace(/(\r\n|\n|\r)/gm, '');
        },


        trimWhiteSpaceChar: function(str) {
            if (this.isEmpty(str)) {
                return '';
            }
            return str.replace(/(\s)/gm, '');
        },


        redirectAsHttpPost: function(location, args, target) {
            if (!target) {
                target = '_self';
            }

            var form = '';
            if ($.isArray(args)) {
                $.each(args, function(index, obj) {
                    form += '&lt;input type="hidden" name="' + obj.name + '" value="' + obj.value + '">';
                });
            }
            else {
                $.each(args, function(key, value) {
                    form += '&lt;input type="hidden" name="' + key + '" value="' + value + '">';
                });
            }

            var dynamicForm = '&lt;form data-ajax="false" target="' + target + '" action="' + location + '" method="POST">' + form + '&lt;/form>';
            $(dynamicForm).appendTo($(document.body)).submit();
        },


        hasWhiteSpace: function(s) {
            return (/\s/g.test(s));
        },


        toProperCase: function(str) {
            if (this.isEmpty(str)) {
                return '';
            }
            str = str.toLowerCase();
            return str.replace(/\b[a-z]/g, function(f) {
                return f.toUpperCase();
            });
        },


        /**
         * An alias for toProperCase
         */
        properCase: function(str) {
            this.deprecated();
            return this.toProperCase(str);
        },


        /**
         * Adds a param and value to an existing url.
         */
        addParameterToUrl: function(url, name, value) {
            if (this.isEmpty(name)) {
                return url;
            }

            if (this.isEmpty(value)) {
                return url;
            }

            var seperator = url.indexOf('?') === -1 ? '?' : '&amp;';
            return url + seperator + encodeURIComponent(name) + '=' + encodeURIComponent(value);
        },


        getParameterFromUrl: function(urlString, name) {
            return (urlString.split('' + name + '=')[1] || '').split('&amp;')[0];
        },


        toKeyValueHash: function(key, value) {
            return {
                'key': key,
                'value': value
            };
        }


    };

    return _.assign({}, _, util);
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#disable">disable</a></li><li><a href="global.html#enable">enable</a></li><li><a href="global.html#renderTemplate">renderTemplate</a></li><li><a href="global.html#renderTemplateWithCaching">renderTemplateWithCaching</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Mar 09 2016 11:21:54 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
